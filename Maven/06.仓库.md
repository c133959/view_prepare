# 仓库

Maven 在某个统一的位置存储所有项目的构件，这个统一的位置，我们就称之为仓库。换言之，仓库就是存放依赖和插件的地方。

任何的构件都有唯一的坐标，该坐标定义了构件在仓库中的唯一存储路径。**当 Maven 项目需要某些构件时，只要其 POM 文件中声明了这些构件的坐标，Maven 就会根据这些坐标找自动到仓库中找到并使用它们。**

## 分类

本地仓库

远程仓库

**找构件时，先本地，后远程**

远程仓库还可以分为 3 个小类：中央仓库、私服、其他公共仓库。

- 中央仓库是由 Maven 社区提供的一种特殊的远程仓库，它包含了绝大多数流行的开源构件。在默认情况下，当本地仓库没有 Maven 所需的构件时，会首先尝试从中央仓库下载。
- 私服是一种特殊的远程仓库，它通常设立在局域网内，用来代理所有外部的远程仓库。它的好处是可以节省带宽，比外部的远程仓库更加稳定。 
- 除了中央仓库和私服外，还有很多其他公共仓库，例如 JBoss Maven 库，Java.net Maven 库等等。

![Maven 仓库分类](http://c.biancheng.net/uploads/allimg/210617/1420431Z2-0.png)

## 本地仓库

Maven 本地仓库实际上就是**本地计算机上的一个目录**（文件夹），它会在**第一次执行 Maven 命令时被创建**。

> 构件只有储存在本地仓库中，才能被其他的 Maven 项目使用。构件想要进入本地仓库，除了从远程仓库下载到本地仓库外，还可以使用命令 mvn install 将本地项目的输出构件安装到本地仓库中。

## 中央仓库

中央仓库是由 Maven 社区提供的一种特殊的远程仓库，它**包含了绝大多数流行的开源构件**。在默认情况下，当本地仓库没有 Maven 所需的构件时，会首先尝试从中央仓库下载。

中央仓库具有如下特点：

- 这个仓库由 Maven 社区管理
- 不需要配置
- 需要通过网络才能访问

## 远程仓库

如果 Maven 在本地仓库和中央仓库中都找不到依赖的库文件，它就会停止构建过程并输出错误信息到控制台。为避免这种情况的发生，Maven 还提供了远程仓库的概念，它是一种由开发人员自己定制的仓库，其中包含了供其他项目使用的代码库或者构件。

## Maven 依赖搜索顺序

当通过 Maven 构建项目时，Maven 按照如下顺序查找依赖的构件。

1. 从**本地仓库**查找构件，如果没有找到，跳到第 2 步，否则继续执行其他处理。
2. 从**中央仓库**查找构件，如果没有找到，并且已经设置其他远程仓库，然后移动到第 4 步；如果找到，那么将构件下载到本地仓库中使用。
3. 如果没有设置其他远程仓库，Maven 则会停止处理并抛出错误。
4. 在**远程仓库**查找构件，如果找到，则会下载到本地仓库并使用，否则 Maven 停止处理并抛出错误。

