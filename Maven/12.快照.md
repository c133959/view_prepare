# Snapshot

> Maven 项目第一次构建时，会自动从远程仓库搜索依赖项，并将其下载到本地仓库中。
>
> 当项目再进行构建时，会直接从本地仓库搜索依赖项并引用，而不会再次向远程仓库获取。
>
> 这样的设计能够避免项目每次构建时都去远程仓库下载依赖，减轻了网络带宽的压力，但也带来了问题。



## snapshot简介

SNAPSHOT（快照）是一种特殊的版本，它表示当前**开发进度的副本**。与常规版本不同，快照版本的构件在发布时，Maven 会自动为它打上一个时间戳，有了这个时间戳后，当依赖该构件的项目进行构建时，Maven 就能从仓库中找到最新的 SNAPSHOT 版本文件——**快照版本**。

```xml
<groupId>net.biancheng.www</groupId>
<artifactId>helloMaven</artifactId>
<packaging>jar</packaging>
<version>1.0-SNAPSHOT</version>
```

默认情况下对于快照本本的构件，Maven 会每天从仓库中获取一次更新;

用户也可以在任何 Maven 命令中使用 -U 参数**强制 Maven 检查更新**。命令如下：

```shell
mvn clean package -U
```



## snapshot与release版本

Maven 仓库分为两种：Snapshot 快照仓库和 Release 发行仓库。

Snapshot 快照仓库用于保存开发过程中的**不稳定** SNAPSHOT 版本；

Release 发行仓库则用来保存**稳定**的 RELEASE 版本。

| 区别                       | SNAPSHOT 版本                                                | RELEASE 版本                                                 |
| -------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 定义                       | 版本号中带有 -SNAPSHOT                                       | 版本号中不带有 -SNAPSHOT                                     |
| 发布仓库                   | Snapshot 快照仓库                                            | Release 发行仓库                                             |
| 是否从远程仓库自动获取更新 | 在不更改版本号的前提下，直接编译打包时，Maven 会自动从远程仓库上下载最新的快照版本。 | 在不更改版本号的前提下，直接编译打包时，如果本地仓库已经存在该版本的模块，则 Maven 不会主动去远程仓库下载。 |
| 稳定性                     | 快照版本往往对应了大量带有时间戳的构件，具有不稳定性。       | 发布版本只对应了唯一的构件，具有稳定性。                     |
| 使用场景                   | 快照版本只应该在组织内部的项目中依赖使用。                   | Maven 项目使用的组织外的依赖项都应该时发布版本的，不应该使用任何的快照版本依赖，否则会造成潜在的风险。 |
| 发布前是否需要修改         | 当项目经过完善的测试后，需要上线时，应该将项目从快照版本更改为发布版本 | 不需要修改                                                   |

