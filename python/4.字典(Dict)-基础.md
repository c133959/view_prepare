# Python dict字典

> [Python](http://c.biancheng.net/python/) 字典（dict）是一种无序的、可变的序列，它的元素以“键值对（key-value）”的形式存储。相对地，列表（list）和元组（tuple）都是有序的序列，它们的元素在底层是挨着存放的。

总的来说，字典类型所具有的主要特征如表 1 所示。

| 主要特征                       | 解释                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| 通过键而不是通过索引来读取元素 | 字典类型有时也称为关联数组或者散列表（hash）。它是通过键将一系列的值联系起来的，这样就可以通过键从字典中获取指定项，但不能通过索引来获取。 |
| 字典是任意数据类型的无序集合   | 和列表、元组不同，通常会将索引值 0 对应的元素称为第一个元素，而字典中的元素是无序的。 |
| 字典是可变的，并且可以任意嵌套 | 字典可以在原处增长或者缩短（无需生成一个副本），并且它支持任意深度的嵌套，即字典存储的值也可以是列表或其它的字典。 |
| 字典中的键必须唯一             | 字典中，不支持同一个键出现多次，否则只会保留最后一个键值对。 |
| 字典中的键必须不可变           | 字典中每个键值对的键是不可变的，只能使用数字、字符串或者元组，不能使用列表。 |

## 创建字典

### 1.使用{ }创建字典

由于字典中每个元素都包含两部分，分别是键（key）和值（value），因此在创建字典时，键和值之间使用冒号`:`分隔，相邻元素之间使用逗号`,`分隔，所有元素放在大括号`{ }`中。

使用`{ }`创建字典的语法格式如下：

```python
dictname = {'key':'value1', 'key2':'value2', ..., 'keyn':valuen}
```

```python
#使用字符串作为key
scores = {'数学': 95, '英语': 92, '语文': 84}
print(scores)
#使用元组和数字作为key
dict1 = {(20, 30): 'great', 30: [1,2,3]}
print(dict1)
#创建空字典
dict2 = {}
print(dict2)


{'数学': 95, '英语': 92, '语文': 84}
{(20, 30): 'great', 30: [1, 2, 3]}
{}
***Repl Closed***

```

### 2.fromkeys()方法创建字典

Python 中，还可以使用 dict 字典类型提供的 fromkeys() 方法创建**带有默认值**的字典，具体格式为：

```python
dictname = dict.fromkeys(list，value=None)
```

其中，list 参数表示字典中所有**键**的列表（list）；**value 参数表示默认值**，如果不写，则为空值 None。

```python
#创建带有默认值的字典
knowledge = ['梅西', '莱万','姆巴佩']
score = dict.fromkeys(knowledge, 99)
print(score)


{'梅西': 99, '莱万': 99, '姆巴佩': 99}
***Repl Closed***
```

### 3.通过dict()映射函数创建字典

| 创建格式                                                     | 注意事项                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| a = dict(str1=value1, str2=value2, str3=value3)              | str 表示**字符串类型**的键，value 表示键对应的值。使用此方式创建字典时，字符串不能带引号。 |
| #方式1 demo = [('two',2), ('one',1), ('three',3)] <br />#方式2 demo = [['two',2], ['one',1], ['three',3]] <br />#方式3 demo = (('two',2), ('one',1), ('three',3)) <br />#方式4 demo = (['two',2], ['one',1], ['three',3]) <br />a = dict(demo) | 向 dict() 函数传入列表或元组，而它们中的元素又各自是包含 2 个元素的列表或元组，其中**第一个元素作为键，第二个元素作为值**。 |
| keys = ['one', 'two', 'three'] #还可以是字符串或元组 values = [1, 2, 3] #还可以是字符串或元组 a = dict( zip(keys, values) ) | 通过应用 dict() 函数和 zip() 函数，可将前两个列表转换为对应的字典。 |

```python
demo = [('two',2), ('one',1), ('three',3)] 
dic = dict(demo)
print(dic['one'])

1
***Repl Closed***
```

## 访问字典

> 列表和元组是通过下标来访问元素的，而字典不同，**它通过键来访问对应的值**。因为字典中的元素是无序的，每个元素的位置都不固定，所以字典也不能像列表和元组那样，采用切片的方式一次性访问多个元素。

注意，当键不存在时，get() 返回空值 None，如果想明确地提示用户该键不存在，那么可以**手动设置 get() 的第二个参数**，例如：

```python
a = dict(two=0.65, one=88, three=100, four=-59)
print( a.get('five', '该键不存在') )
运行结果：
该键不存在
```

## Python删除字典

和删除列表、元组一样，手动删除字典也可以使用 del 关键字，例如：

```python
a = dict(two=0.65, one=88, three=100, four=-59)
print(a)
del a
print(a)

{'two': 0.65, 'one': 88, 'three': 100, 'four': -59}
Traceback (most recent call last):
  File "C:\Users\mozhiyan\Desktop\demo.py", line 4, in <module>
    print(a)
NameError: name 'a' is not defined
```

运行结果：

Python 自带垃圾回收功能，会自动销毁不用的字典，所以一般不需要通过 del 来手动删除。

## 键值对操作

> 由于字典属于可变序列，所以我们可以任意操作字典中的键值对（key-value）。[Python](http://c.biancheng.net/python/) 中，常见的字典操作有以下几种：
>
> - 向现有字典中添加新的键值对。
> - 修改现有字典中的键值对。
> - 从现有字典中删除指定的键值对。
> - 判断现有字典中是否存在指定的键值对。

### 添加新键值对

语法：

```python
dictname[key] = value
```

### 修改键值对

Python 字典中键（key）的名字不能被修改，我们只能修改值（value）。

字典中各元素的键必须是唯一的，因此，如果新添加元素的键与已存在元素的键相同，那么键所对应的值就会被新的值替换掉，以此达到修改元素值的目的。

```python
a = {'数学': 95}
print(a)
a['语文'] = 100
print(a)
```

### 删除键值对

如果要删除字典中的键值对，还是可以使用 del 语句。

```python
a = {'数学': 95, '语文': 89, '英语': 90}
del a['语文']
del a['数学']
print(a)

{'英语': 90}
```



### 判断是否存在指定键值对

如果要判断字典中是否存在指定键值对，首先应判断字典中是否有对应的键。判断字典是否包含指定键值对的键，可以使用 in 或 not in 运算符。

基于key来判断

```python
a = {'数学': 95, '语文': 89, '英语': 90}
# 判断 a 中是否包含名为'数学'的key
print('数学' in a) # True
# 判断 a 是否包含名为'物理'的key
print('物理' in a) # False
```


